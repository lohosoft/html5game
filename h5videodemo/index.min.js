function init(){globalData.ua=navigator.userAgent,globalData.isIphone=!0,/Android (\d+\.\d+)/.test(globalData.ua)&&(globalData.isIphone=!1),globalData.myivwrapper=document.getElementById("myivwrapper");var a={debounce:function(a,o){var e=null;return function(){var t=this,l=arguments;clearTimeout(e),e=setTimeout(function(){a.apply(t,l)},o)}}};globalData.recordOrient,window.onresize=a.debounce(detectOrient,300),detectOrient(),globalData.progressP=document.createElement("p"),globalData.progressP.style.marginTop="50px",globalData.progressP.margin="auto",globalData.progressP.color="green",globalData.progressP.fontSize="18px",document.body.appendChild(globalData.progressP),myPreload()}function setLayout(a){1===a?(console.log("s mode "),globalData.myivwrapper.classList.add("myrotate90negative")):(console.log("p mode"),globalData.myivwrapper.classList.remove("myrotate90negative"))}function detectOrient(){var a=document.documentElement.clientWidth,o=0,e=0;if(console.log(globalData.recordOrient),globalData.recordOrient){var t=globalData.recordOrient.split(",");o=t[0],e=t[1]}else sw=window.screen.width,sh=window.screen.height,o=sw<sh?sw:sh,e=sw>=sh?sw:sh,globalData.recordOrient=o+","+e;return a==o?(globalData.orientationP=!0,console.log("init p mode"),void setLayout(0)):a==e?(globalData.orientationP=!1,console.log("init s mode"),void setLayout(1)):void 0}function myPreload(){globalData.startImgSrc="./assets/start_1088x1922.png",globalData.sVideoSrc="./assets/s.mp4",globalData.tVideoSrc="./assets/t.mp4",globalData.endFile="./assets/end.txt";var a=new createjs.LoadQueue(!1);a.loadFile(globalData.sVideoSrc),a.loadFile(globalData.tVideoSrc),a.loadFile(globalData.startImgSrc),a.loadFile(globalData.startImgSrc),a.loadFile(globalData.endFile),a.on("fileload",handleFileComplete),a.on("progress",handleFileProgress),a.load()}function handleFileComplete(a){a.item.src===globalData.startImgSrc?(console.log(a.result),globalData.startImg=a.result):a.item.src===globalData.sVideoSrc?(console.log(a.result),globalData.sVideo=a.result,globalData.sVideo.id="sv"):a.item.src===globalData.tVideoSrc&&(console.log(a.result),globalData.tVideo=a.result,globalData.tVideo.id="tv")}function handleFileProgress(a){var o=Math.floor(100*a.progress);console.log(o+"%"),globalData.progressP.innerHTML=o+"%",a.progress>=1&&(console.log("all file loaded"),globalData.progressP.parentNode.removeChild(globalData.progressP),myInit())}function myInit(){console.log("init with loaded files"),globalData.startImg.style.height="100%",globalData.myivwrapper.appendChild(globalData.startImg),globalData.sVideo.style.width="1px",globalData.sVideo.style.height="1px",console.log(globalData.sVideo),console.log(globalData.tVideo),globalData.tVideo.style.width="1px",globalData.tVideo.style.height="1px",globalData.myivwrapper.appendChild(globalData.sVideo),globalData.myivwrapper.appendChild(globalData.tVideo),myStart()}function myStart(){globalData.startImg.addEventListener("click",function(a){console.log("click x "+a.x),console.log("click y "+a.y),console.log(globalData.orientationP);var o;globalData.orientationP?(console.log("click on p mode"),o=a.y<window.innerHeight/2?document.getElementById(globalData.tVideo.id):document.getElementById(globalData.sVideo.id)):(console.log("click on s mode"),o=a.x>window.innerWidth/2?document.getElementById(globalData.tVideo.id):document.getElementById(globalData.sVideo.id)),console.log(" v playing : "+o.id),o.style.height="100%",o.style.width="auto",console.log(" v playing height : "+o.style.height),o.addEventListener("timeupdate",function(){console.log("video on : "+o.currentTime),o.currentTime>=1.45&&stopVideo(o)}),o.play(),globalData.startImg.style.display="none"})}function playVideo(a){console.log(a);var o=document.getElementById(a);o.style.height="100%",o.style.widith=" ",o.play(),globalData.startImg.style.display="none",o.addEventListener("timeupdate",function(){o.currentTime>=1.9&&stopVideo(o)})}function stopVideo(a){console.log("stoping "+a),a.style.height="1px",a.style.widith="1px",globalData.startImg.style.display="block"}console.log("index.js"),window.onload=init();
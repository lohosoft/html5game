function init(){globalData.ua=navigator.userAgent,globalData.isIphone=!0,/Android (\d+\.\d+)/.test(globalData.ua)&&(globalData.isIphone=!1),globalData.myivwrapper=document.getElementById("myivwrapper"),globalData.progressP=document.getElementById("progressP"),globalData.videohtmltemplate='<video id="" src="" playsinline="true" -webkit-playsinline="true" x5-video-player-type="h5" x5-video-player-fullscreen="true" type="video/mp4"></video>';var t={debounce:function(t,e){var a=null;return function(){var l=this,o=arguments;clearTimeout(a),a=setTimeout(function(){t.apply(l,o)},e)}}};globalData.recordOrient,window.onresize=t.debounce(detectOrient,300),detectOrient(),myPreload()}function setLayout(t){1===t?globalData.myivwrapper.classList.add("myrotate90negative"):globalData.myivwrapper.classList.remove("myrotate90negative")}function detectOrient(){var t=document.documentElement.clientWidth,e=0,a=0;if(globalData.recordOrient){var l=globalData.recordOrient.split(",");e=l[0],a=l[1]}else sw=window.screen.width,sh=window.screen.height,e=sw<sh?sw:sh,a=sw>=sh?sw:sh,globalData.recordOrient=e+","+a;return t==e?(globalData.orientationP=!0,void setLayout(0)):t==a?(globalData.orientationP=!1,void setLayout(1)):void 0}function myPreload(){globalData.startImgSrc="./assets/start_1088x1922.png",globalData.sVideoSrc="./assets/s.mp4",globalData.tVideoSrc="./assets/t.mp4",globalData.endFile="./assets/end.txt";var t=new createjs.LoadQueue(!1);t.loadFile(globalData.sVideoSrc),t.loadFile(globalData.tVideoSrc),t.loadFile(globalData.startImgSrc),t.loadFile(globalData.startImgSrc),t.loadFile(globalData.endFile),t.on("fileload",handleFileComplete),t.on("progress",handleFileProgress),t.load()}function handleFileComplete(t){t.item.src===globalData.startImgSrc?globalData.startImg=t.result:t.item.src===globalData.sVideoSrc?(globalData.sVideo=htmlToElement(globalData.videohtmltemplate),globalData.sVideo.src=t.result.src,globalData.sVideo.id="sv"):t.item.src===globalData.tVideoSrc&&(globalData.tVideo=htmlToElement(globalData.videohtmltemplate),globalData.tVideo.src=t.result.src,globalData.tVideo.id="tv")}function handleFileProgress(t){var e=Math.floor(100*t.progress);globalData.progressP.innerHTML=e+"%",t.progress>=1&&(globalData.progressP.parentNode.removeChild(globalData.progressP),myInit())}function myInit(){globalData.startImg.style.height="100%",globalData.myivwrapper.appendChild(globalData.startImg),globalData.sVideo.style.width="1px",globalData.sVideo.style.height="1px",globalData.sVideo.style.height="1px",globalData.tVideo.style.width="1px",globalData.tVideo.style.height="1px",globalData.myivwrapper.appendChild(globalData.sVideo),globalData.myivwrapper.appendChild(globalData.tVideo),myStart()}function myStart(){globalData.startImg.addEventListener("click",function(t){var e;e=globalData.orientationP?t.y<window.innerHeight/2?document.getElementById(globalData.tVideo.id):document.getElementById(globalData.sVideo.id):t.x>window.innerWidth/2?document.getElementById(globalData.tVideo.id):document.getElementById(globalData.sVideo.id),e.style.height="100%",e.style.width="auto",e.addEventListener("timeupdate",function(){e.currentTime>=1.45&&stopVideo(e)}),e.play(),globalData.startImg.style.display="none"})}function playVideo(t){var e=document.getElementById(t);e.style.height="100%",e.style.widith=" ",e.play(),globalData.startImg.style.display="none",e.addEventListener("timeupdate",function(){e.currentTime>=1.9&&stopVideo(e)})}function stopVideo(t){t.style.height="1px",t.style.widith="1px",globalData.startImg.style.display="block"}function htmlToElement(t){var e=document.createElement("template");return e.innerHTML=t,e.content.firstChild}function htmlToElements(t){var e=document.createElement("template");return e.innerHTML=t,e.content.childNodes}window.onload=init();var td=htmlToElement("<td>foo</td>"),div=htmlToElement("<div><span>nested</span> <span>stuff</span></div>");